metadata:
  name: mtaBuild
  description: Performs an mta build
  longDescription: |
    Performs an mta build
spec:
  inputs:
    params:
      - name: buildTarget
        type: string
        description: "For mtaBuildTool classic only. Valid values: CF, NEO, XSA"
        scope:
        - PARAMETERS
        - STAGES
        - STEPS
        mandatory: false
        default:
      - name: mtaBuildTool
        type: string
        description: "Valid values: 'classic', 'cloudMbt' (default)"
        scope:
        - PARAMETERS
        - STAGES
        - STEPS
        mandatory: false
        default: cloudMbt
      - name: mtarName
        type: string
        description: Lorem ispum
        scope:
        - PARAMETERS
        - STAGES
        - STEPS
        mandatory: false
        default:
      - name: mtaJarLocation
        type: string
        description: Lorem ispum
        scope:
        - PARAMETERS
        - STAGES
        - STEPS
        mandatory: false
        default:
      - name: extensions
        type: string
        description: Lorem ipsum
        scope:
        - PARAMETERS
        - STAGES
        - STEPS
        mandatory: false
        default:
      - name: platform
        type: string
        description: Lorem ipsum
        scope:
        - PARAMETERS
        - STAGES
        - STEPS
        mandatory: false
        default:
      - name: applicationName
        type: string
        description: Lorem ipsum
        scope:
        - PARAMETERS
        - STAGES
        - STEPS
        mandatory: false
        default:
      - name: defaultNpmRegistry
        type: string
        description: Lorem ipsum
        scope:
        - PARAMETERS
        - STAGES
        - STEPS
        mandatory: false
        default:
      - name: projectSettingsFile
        type: string
        description: Lorem ipsum
        scope:
        - PARAMETERS
        - STAGES
        - STEPS
        mandatory: false
        default:
      - name: globalSettingsFile
        type: string
        description: Lorem ipsum
        scope:
        - PARAMETERS
        - STAGES
        - STEPS
        mandatory: false
        default:

  outputs:
    resources:
      - name: commonPipelineEnvironment
        type: piperEnvironment
        params:
          - name: mtarFilePath
            fields:
              - name: mtarFilePath
  containers:
    - name: mta
      image: devxci/mbtci
      imagePullPolicy: Always
