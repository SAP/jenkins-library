import groovy.transform.Field

@Field String STEP_NAME = getClass().getName()

void call(Map parameters = [:]) {

        List credentials = [
            [type: 'usernamePassword', id: 'malwareScanCredentialsId', env: ['PIPER_username', 'PIPER_password']],
            [type: 'file', id: 'dockerConfigJsonCredentialsId', env: ['PIPER_dockerConfigJSON']],
        ]

        piperExecuteBin parameters, STEP_NAME, "metadata/${STEP_NAME}.yaml", credentials
}
